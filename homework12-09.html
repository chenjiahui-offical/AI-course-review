<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>12.09课堂作业 - 贝叶斯网络</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <link rel="stylesheet" href="ai-assistant.css">
    <script src="ai-assistant.js"></script>
</head>
<body>
    <nav class="navbar">
        <div class="nav-content">
            <a href="index.html" class="nav-brand">
                <i class="fas fa-brain"></i>
                高级人工智能课程复习
            </a>
        </div>
    </nav>

    <div class="container">
        <div class="content-card">
            <div class="homework-header">
                <h1><i class="fas fa-project-diagram"></i> 12.09课堂作业：贝叶斯网络</h1>
                <div class="homework-meta">
                    <span><i class="fas fa-calendar"></i> 2024年12月9日</span>
                    <span><i class="fas fa-tag"></i> 概率图模型</span>
                </div>
            </div>

            <section class="homework-section">
                <h2><i class="fas fa-question-circle"></i> 作业题目</h2>
                <div class="question-box">
                    <p><strong>题目：</strong>给定一个包含6个变量的贝叶斯网络，计算联合概率密度公式，并比较完全概率表和贝叶斯网络的存储效率。</p>
                </div>
            </section>

            <section class="homework-section">
                <h2><i class="fas fa-network-wired"></i> 问题1：联合概率密度计算公式</h2>
                
                <div class="formula-box">
                    <h3>贝叶斯网络的联合概率分解</h3>
                    <p>根据贝叶斯网络的条件独立性假设，6个变量的联合概率密度可以分解为：</p>
                    <div class="katex-display">
                        $$P(x_1, x_2, x_3, x_4, x_5, x_6) = P(x_1) \cdot P(x_2|x_1) \cdot P(x_3|x_1,x_5) \cdot P(x_4|x_2) \cdot P(x_5|x_1) \cdot P(x_6|x_2,x_3,x_4)$$
                    </div>
                </div>

                <div class="explanation-box">
                    <h3><i class="fas fa-info-circle"></i> 公式解释</h3>
                    <p>这个公式表示了变量之间的依赖关系：</p>
                    <ul>
                        <li>\(P(x_1)\)：\(x_1\) 是根节点，没有父节点</li>
                        <li>\(P(x_2|x_1)\)：\(x_2\) 依赖于 \(x_1\)</li>
                        <li>\(P(x_3|x_1,x_5)\)：\(x_3\) 依赖于 \(x_1\) 和 \(x_5\)</li>
                        <li>\(P(x_4|x_2)\)：\(x_4\) 依赖于 \(x_2\)</li>
                        <li>\(P(x_5|x_1)\)：\(x_5\) 依赖于 \(x_1\)</li>
                        <li>\(P(x_6|x_2,x_3,x_4)\)：\(x_6\) 依赖于 \(x_2\)、\(x_3\) 和 \(x_4\)</li>
                    </ul>
                </div>

                <div class="network-structure">
                    <h3><i class="fas fa-sitemap"></i> 网络结构示意</h3>
                    <div class="structure-description">
                        <p>根据公式可以推断出网络结构：</p>
                        <div class="structure-box">
                            <pre>
        x₁ (根节点)
       /  |  \
      /   |   \
    x₂   x₅   (x₃依赖x₁和x₅)
    / \   |   /
   /   \  |  /
  x₄   x₆←x₃
         ↑
        x₂,x₄
                            </pre>
                        </div>
                        <p class="note">箭头表示依赖关系，指向的节点依赖于箭头起点的节点</p>
                    </div>
                </div>
            </section>

            <section class="homework-section">
                <h2><i class="fas fa-table"></i> 问题2：完全概率表有多少行</h2>
                
                <div class="calculation-box">
                    <h3>完全概率表（Full Joint Probability Table）</h3>
                    <p>假设每个变量都是二值变量（取值为0或1），则完全概率表需要存储所有可能的变量组合。</p>
                    
                    <h4>计算过程</h4>
                    <p>6个二值变量的所有可能组合数为：</p>
                    <div class="katex-display">
                        $$2^6 = 64 \text{ 行}$$
                    </div>

                    <div class="table-example">
                        <h4>完全概率表示例（部分）</h4>
                        <div class="table-container">
                            <table>
                                <thead>
                                    <tr>
                                        <th>x₁</th>
                                        <th>x₂</th>
                                        <th>x₃</th>
                                        <th>x₄</th>
                                        <th>x₅</th>
                                        <th>x₆</th>
                                        <th>P(x₁,x₂,x₃,x₄,x₅,x₆)</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>0</td>
                                        <td>0</td>
                                        <td>0</td>
                                        <td>0</td>
                                        <td>0</td>
                                        <td>0</td>
                                        <td>p₁</td>
                                    </tr>
                                    <tr>
                                        <td>0</td>
                                        <td>0</td>
                                        <td>0</td>
                                        <td>0</td>
                                        <td>0</td>
                                        <td>1</td>
                                        <td>p₂</td>
                                    </tr>
                                    <tr>
                                        <td>0</td>
                                        <td>0</td>
                                        <td>0</td>
                                        <td>0</td>
                                        <td>1</td>
                                        <td>0</td>
                                        <td>p₃</td>
                                    </tr>
                                    <tr>
                                        <td colspan="7" style="text-align: center;">...</td>
                                    </tr>
                                    <tr>
                                        <td>1</td>
                                        <td>1</td>
                                        <td>1</td>
                                        <td>1</td>
                                        <td>1</td>
                                        <td>1</td>
                                        <td>p₆₄</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="highlight-box">
                        <h4><i class="fas fa-exclamation-triangle"></i> 存储问题</h4>
                        <p>完全概率表需要存储 <strong>64个概率值</strong>（实际上是63个，因为最后一个可以通过归一化计算得出）。</p>
                        <p>随着变量数量增加，存储需求呈指数增长：</p>
                        <ul>
                            <li>10个变量：\(2^{10} = 1024\) 行</li>
                            <li>20个变量：\(2^{20} = 1,048,576\) 行</li>
                            <li>30个变量：\(2^{30} = 1,073,741,824\) 行</li>
                        </ul>
                    </div>
                </div>
            </section>

            <section class="homework-section">
                <h2><i class="fas fa-compress-alt"></i> 问题3：贝叶斯网络需要多少行</h2>
                
                <div class="calculation-box">
                    <h3>贝叶斯网络的条件概率表（CPT）</h3>
                    <p>贝叶斯网络利用条件独立性，只需要存储每个节点的条件概率表。</p>

                    <h4>逐个计算每个节点的CPT大小</h4>
                    <div class="cpt-calculation">
                        <div class="cpt-item">
                            <h5>1. \(P(x_1)\)</h5>
                            <p>无父节点，需要存储：</p>
                            <div class="katex-display">
                                $$2^1 = 2 \text{ 行}$$
                            </div>
                            <p class="note">（\(x_1=0\) 和 \(x_1=1\) 的概率）</p>
                        </div>

                        <div class="cpt-item">
                            <h5>2. \(P(x_2|x_1)\)</h5>
                            <p>1个父节点，需要存储：</p>
                            <div class="katex-display">
                                $$2^1 \times 2 = 4 \text{ 行}$$
                            </div>
                            <p class="note">（对于 \(x_1\) 的每个取值，\(x_2\) 有2个可能的取值）</p>
                        </div>

                        <div class="cpt-item">
                            <h5>3. \(P(x_3|x_1,x_5)\)</h5>
                            <p>2个父节点，需要存储：</p>
                            <div class="katex-display">
                                $$2^2 \times 2 = 8 \text{ 行}$$
                            </div>
                            <p class="note">（\(x_1\) 和 \(x_5\) 的4种组合，每种组合下 \(x_3\) 有2个取值）</p>
                        </div>

                        <div class="cpt-item">
                            <h5>4. \(P(x_4|x_2)\)</h5>
                            <p>1个父节点，需要存储：</p>
                            <div class="katex-display">
                                $$2^1 \times 2 = 4 \text{ 行}$$
                            </div>
                        </div>

                        <div class="cpt-item">
                            <h5>5. \(P(x_5|x_1)\)</h5>
                            <p>1个父节点，需要存储：</p>
                            <div class="katex-display">
                                $$2^1 \times 2 = 4 \text{ 行}$$
                            </div>
                        </div>

                        <div class="cpt-item">
                            <h5>6. \(P(x_6|x_2,x_3,x_4)\)</h5>
                            <p>3个父节点，需要存储：</p>
                            <div class="katex-display">
                                $$2^3 \times 2 = 16 \text{ 行}$$
                            </div>
                            <p class="note">（\(x_2\)、\(x_3\) 和 \(x_4\) 的8种组合，每种组合下 \(x_6\) 有2个取值）</p>
                        </div>
                    </div>

                    <h4>总计</h4>
                    <div class="total-box">
                        <div class="katex-display">
                            $$\text{总行数} = 2 + 4 + 8 + 4 + 4 + 16 = 38 \text{ 行}$$
                        </div>
                    </div>
                </div>
            </section>

            <section class="homework-section">
                <h2><i class="fas fa-chart-bar"></i> 存储效率对比</h2>
                
                <div class="comparison-box">
                    <h3>完全概率表 vs 贝叶斯网络</h3>
                    <div class="comparison-grid">
                        <div class="comparison-item">
                            <i class="fas fa-table"></i>
                            <h4>完全概率表</h4>
                            <p class="large-number">64 行</p>
                            <p>存储所有变量的联合概率</p>
                        </div>
                        <div class="comparison-item highlight">
                            <i class="fas fa-network-wired"></i>
                            <h4>贝叶斯网络</h4>
                            <p class="large-number">38 行</p>
                            <p>利用条件独立性压缩存储</p>
                        </div>
                    </div>

                    <div class="efficiency-box">
                        <h4><i class="fas fa-percentage"></i> 存储效率提升</h4>
                        <div class="katex-display">
                            $$\text{压缩率} = \frac{38}{64} \approx 59.4\%$$
                        </div>
                        <div class="katex-display">
                            $$\text{节省空间} = \frac{64 - 38}{64} \approx 40.6\%$$
                        </div>
                        <p class="highlight">贝叶斯网络节省了约 <strong>40.6%</strong> 的存储空间！</p>
                    </div>
                </div>

                <div class="advantage-box">
                    <h3><i class="fas fa-star"></i> 贝叶斯网络的优势</h3>
                    <div class="advantage-grid">
                        <div class="advantage-item">
                            <i class="fas fa-compress"></i>
                            <h4>存储效率高</h4>
                            <p>利用条件独立性大幅减少存储需求</p>
                        </div>
                        <div class="advantage-item">
                            <i class="fas fa-tachometer-alt"></i>
                            <h4>计算效率高</h4>
                            <p>推理计算更快，避免了指数级复杂度</p>
                        </div>
                        <div class="advantage-item">
                            <i class="fas fa-eye"></i>
                            <h4>可解释性强</h4>
                            <p>图结构直观展示变量间的因果关系</p>
                        </div>
                        <div class="advantage-item">
                            <i class="fas fa-puzzle-piece"></i>
                            <h4>模块化</h4>
                            <p>每个节点的CPT可以独立学习和更新</p>
                        </div>
                    </div>
                </div>

                <div class="scaling-box">
                    <h3><i class="fas fa-chart-line"></i> 规模扩展性</h3>
                    <p>随着变量数量增加，贝叶斯网络的优势更加明显：</p>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>变量数量</th>
                                    <th>完全概率表</th>
                                    <th>贝叶斯网络（假设平均2个父节点）</th>
                                    <th>压缩率</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>6</td>
                                    <td>64</td>
                                    <td>38</td>
                                    <td>59.4%</td>
                                </tr>
                                <tr>
                                    <td>10</td>
                                    <td>1,024</td>
                                    <td>~80</td>
                                    <td>7.8%</td>
                                </tr>
                                <tr>
                                    <td>20</td>
                                    <td>1,048,576</td>
                                    <td>~160</td>
                                    <td>0.015%</td>
                                </tr>
                                <tr>
                                    <td>30</td>
                                    <td>1,073,741,824</td>
                                    <td>~240</td>
                                    <td>0.000022%</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <p class="note">注：贝叶斯网络的实际大小取决于网络结构，这里假设平均每个节点有2个父节点</p>
                </div>
            </section>

            <section class="homework-section">
                <h2><i class="fas fa-check-double"></i> 总结</h2>
                
                <div class="summary-box">
                    <h3>关键要点</h3>
                    <div class="summary-grid">
                        <div class="summary-item">
                            <i class="fas fa-1"></i>
                            <p>联合概率可以通过条件独立性分解为多个条件概率的乘积</p>
                        </div>
                        <div class="summary-item">
                            <i class="fas fa-2"></i>
                            <p>完全概率表需要 \(2^6 = 64\) 行存储</p>
                        </div>
                        <div class="summary-item">
                            <i class="fas fa-3"></i>
                            <p>贝叶斯网络只需要 38 行，节省约 40.6% 的空间</p>
                        </div>
                        <div class="summary-item">
                            <i class="fas fa-4"></i>
                            <p>变量越多，贝叶斯网络的优势越明显</p>
                        </div>
                    </div>
                </div>
            </section>

            <div class="navigation-buttons">
                <a href="homework12-04.html" class="btn-secondary">
                    <i class="fas fa-arrow-left"></i> 上一个作业
                </a>
                <a href="index.html" class="btn-primary">
                    <i class="fas fa-home"></i> 返回主页
                </a>
            </div>
        </div>
    </div>

    <footer>
        <p>高级人工智能课程复习网站 © 2024</p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            renderMathInElement(document.body, {
                delimiters: [
                    {left: "$$", right: "$$", display: true},
                    {left: "$", right: "$", display: false},
                    {left: "\\(", right: "\\)", display: false},
                    {left: "\\[", right: "\\]", display: true}
                ]
            });
        });
    </script>
</body>
</html>
